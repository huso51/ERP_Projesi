<div class="widgets">
  
    <div class="row">
        <div title="Mükellef Arama" class="card data-table-container">
            <div class="row">
                
            </div>
            <div class="row">
                <div class="col-md-2" title="TCKN/VKN">
                    <label class="label-control">TCKN/VKN</label>
                    <input class="form-control input-sm" [(ngModel)]="tckn" (keyup.enter)="search()" type="text" placeholder="TCKN/VKN"/>
                </div>
                <div class="col-md-2" title="İlk Tarih">
                    <label class="col-sm-12 label-control">İlk</label>
                    <my-date-picker name="mydate1" [options]="myDatePickerOptions" [selector]="dateSelector1" (click)="openCalendar1()" (dateChanged)="onDateChanged($event)"
                        [(ngModel)]="searchFirstDate" required></my-date-picker>
                </div>
                <div class="col-md-2" title="Son Tarih">
                    <label class="col-sm-12 label-control">Son</label>
                    <my-date-picker name="mydate2" [options]="myDatePickerOptions" [selector]="dateSelector2" (click)="openCalendar2()" (dateChanged)="onDateChangedx($event)"
                        [(ngModel)]="searchLastDate" required></my-date-picker>
                </div>
                
            </div>
            <div class="row">
                <div id="search-button" class="col-sm-4" title="Ara">
                        <button class="btn btn-success" (click)="search()"><i class="fa fa-refresh"></i> Ara</button>
                </div>
                <div *ngIf="user.tenantUsers.userRole.isEinvoiceAdmin || user.tenantUsers.userRole.isSuperAdmin" title="Yeni Mükellef" id="search-button" class="col-md-4 offset-md-4" style="text-align:right;">
                        <button class="btn btn-success" (click)="addEinvoiceReport()">Rapor oluştur</button>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading" title="E-Arşiv Bilgileri">E-Arşiv Bilgileri</div>

                <table class="table table-striped" >
                    <thead>
                        <tr>
                            <th title="TCKN/VKN">TCKN/VKN</th>
                            <th title="Başlangıç">Başlangıç</th>
                            <th title="Bitiş">Bitiş</th>
                            <th title="Gönderildi">Gönderildi</th>
                            <th title="Durum">Durum</th>
                            <th title="İşlemler" class="align-right">İşlemler</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of earchives; let ind=index">
                            <td title="{{item.vknTckn}}" class="long-text">{{item.vknTckn}}</td>
                            <td title="{{item.periodStart}}" class="long-text">{{item.periodStart}}</td>
                            <td title="{{item.periodEnd}}" class="long-text">{{item.periodEnd}}</td>
                            <td title="{{item.isSended}}" class="long-text">{{item.isSended ? 'Evet' : 'Hayır'}}</td>
                            <td title="{{item.statusDescription}}" class="long-text">{{item.statusDescription ? item.statusDescription : 'Gönderilmedi'}}</td>
                            <td class="align-right">
                                <div class="btn-group">
                                    <button data-toggle="dropdown" class="btn btn-default dropdown-toggle" type="button"><i class="ion-gear-b"></i></button>
                                    <ul class="dropdown-menu">
                                        <li *ngIf="!item.isSended" class="dropdown-item"><a (click)="sendReport(ind)">Gönder</a></li>
                                        <li class="dropdown-item"><a (click)="downloadFile(ind)">İndir</a></li>
                                        
                                    </ul>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="11">
                                
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
</div>